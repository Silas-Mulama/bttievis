{% extends 'main.html' %}
{% load static %}

{% block title %}Vote Result | BTTI EVIS{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8">

        <!-- Card -->
        <div class="card shadow-lg border-0">
          <div class="card-body text-center py-5">

            {% if success %}
              <!-- Success message -->
              <div class="text-success mb-4">
                <i class="bi bi-check-circle-fill display-3"></i>
                <h3 class="fw-bold mt-3">Vote Recorded!</h3>
                <p class="lead">{{ success }}</p>
              </div>

              <!-- Candidate Info -->
              <div class="mt-4">
                {% if candidate.image %}
                  <img src="{{ candidate.image.url }}" alt="{{ candidate.name }}" 
                       class="rounded-circle shadow" width="120" height="120">
                {% endif %}
                <h4 class="fw-bold text-success mt-3">{{ candidate.name }}</h4>
                <p class="text-muted mb-1">{{ candidate.party }}</p>
                <p class="small text-muted">{{ candidate.position.name }}</p>
              </div>

              <!-- Back to positions -->
              <a href="{% url 'election_summary' election.id %}" class="btn btn-outline-success mt-4">
                OK
              </a>

            {% elif error %}
              <!-- Error message -->
              <div class="text-danger mb-4">
                <i class="bi bi-x-circle-fill display-3"></i>
                <h3 class="fw-bold mt-3">Oops!</h3>
                <p class="lead">{{ error }}</p>
              </div>

              <!-- Back to election -->
              <a href="{% url 'elections' %}" class="btn btn-danger mt-4">
                Back to Election
              </a>
            {% endif %}

          </div>
        </div>
        <!-- End Card -->

      </div>
    </div>
  </div>
</section>
{% endblock %}
